<ng-container
    *ngIf="{query: query$ | async} as data"
    class="container mx-auto"
  >
    <ul *ngIf="data.query" class="mr-8 ml-8">
      <cdk-virtual-scroll-viewport
        role="presentation"
        *ngIf="isGridView; else cardView"
        scrollWindow
        [itemSize]="itemSize"
        (scrolledIndexChange)="onScroll(data.query.nextPage)"
        class="search-results__viewport"
      >
        <li class="grid" >
          <table>
            <tr class="">
              <th>Name</th>
              <th>Description</th>
              <th>Language</th>
              <th>Stars</th>
              <th>Updated Date</th>
              <th>Username</th>
              <th>URL</th>
            </tr>
            <tr *cdkVirtualFor="let result of data.query.results" class="h-[{{ itemSize }}px] grid-tr">
              <td>{{result.name}}</td>
              <td>{{result.description}}</td>
              <td>{{result.language}}</td>
              <td>{{result.stargazers_count }}</td>
              <td>{{result.updated_at | date}}</td>
              <td>{{result.owner.login}}</td>
              <td><a [href]="result.html_url">{{result.html_url}}</a></td>
            </tr>
          </table>
        </li>
      </cdk-virtual-scroll-viewport>
      <ng-template #cardView>
        <cdk-virtual-scroll-viewport
          role="presentation"
          scrollWindow
          [itemSize]="itemSize"
          (scrolledIndexChange)="onScroll(data.query.nextPage)"
          class="search-results__viewport"
        >
          <li class="gri">
            <mat-card *cdkVirtualFor="let result of data.query.results" class="h-[{{ itemSize }}px] card-row">
              <mat-card-header>
                <mat-card-title>{{result.name}}</mat-card-title>
                <mat-card-subtitle>{{result.owner.login}}, Stars: {{result.stargazers_count}}, {{result.language}}</mat-card-subtitle>
              </mat-card-header>
              <mat-card-content>
                {{result.updated_at | date}}<br>
                {{result.description}} <br>
                <a [href]="result.html_url">{{result.html_url}}</a>
              </mat-card-content>
            </mat-card>
          </li>
        </cdk-virtual-scroll-viewport>
      </ng-template>
    </ul>
</ng-container>
  